Christopher Abdo
IS 218 - Prof. Wang
Final Project

This was a very informative and essential project to learn how to piece everything together while maintaining an organized and efficient codebase. This was a particularly challenging project as I was running into many issues with Docker using previous volumes, incorrectly setting up the new service Minio, and other random edge cases which would result in errors. One of the main issues that I came across was updating my GitHub action to allow access to Minio and not throw an error when it runs Pytest due to not being connected yet to Minio. Every time the action ran, it would end up hanging due to a faulty connection thinking it was already initialized. In addition, a pretty major issue I was facing was issues with authenticating the user and getting the correct props in order to upload the profile picture. It would constantly throw errors like cannot find ‘sub’ which resulted in me having to change around the user schemas a little in order to ensure that all the correct user information was being pulled. Once the profile picture successfully uploads, you can see the return including a new profile_picture_url field which is directly attached to each user that is logged in. Related to this, another major issue was properly authenticating users to get the profile picture uploaded. There were many times when I run the endpoint and I get an error saying not authenticated. I was able to solve this issue by printing a mock endpoint result to ensure that the user information is being properly collected before the upload happens so it can make the author the same as the uploader.

The new feature I implemented was the profile picture uploads through Minio. This essentially comes down to 2 new major files: minio_service.py, and the modification of user_routes.py. Minio_service.py contains a new Minio class which initializes the connection and handles the uploading of the files. Once the localhost/docs dashboard is loaded up and signed into, a new API route will appear titled Upload Profile Picture. This endpoint simply takes in a file (which is uploaded through Minio), it gets stored in their objects, and the new URL is returned pointing at localhost (or the current URL) which is perfect for when we deploy. There were not too many changes in the configuration for this feature, as all I had to do was provide it the username and connection point in the minio_service and user routes. The tests for these new files run a mock connection to Minio and upload a file in order to see if the resizing and upload work.
